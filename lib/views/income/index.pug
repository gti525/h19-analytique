extends ../shared/_layout.pug

block content
    h1  Profits
    h2 Légende
    table.table.table-striped.table-bordered(id="chartGrid")
        thead
            tr
                th Vue régulière
                th Vue ciblée
                th Clique régulier
                th Clique ciblé
        tbody
            tr
                td #{incomeChart.regularView*100}¢
                td #{incomeChart.targetedView*100}¢
                td #{incomeChart.regularClick*100}¢
                td #{incomeChart.targetedClick*100}¢
    hr
    h2  Profits à encaisser
    table.table.table-striped.table-bordered
        thead
            tr
                th Type de client
                th Nombre de Vue
                th Nombre de clique
                th Montant du
        tbody
            tr
                td client regulier
                td #{income.regularViews - income.cashedRegularViews}
                td #{income.regularClicks - income.cashedRegularClicks}
                td 
                    b #{((income.regularViews - income.cashedRegularViews) * incomeChart.regularView + (income.regularClicks - income.cashedRegularClicks) * incomeChart.regularClick).toFixed(2)}$
            tr
                td client ciblé
                td #{income.targetedClicks - income.cashedTargetedClicks}
                td #{income.targetedViews - income.cashedTargetedViews}
                td 
                    b #{((income.targetedClicks - income.cashedTargetedClicks) * incomeChart.targetedClick + (income.targetedViews - income.cashedTargetedViews) * incomeChart.targetedView).toFixed(2)}$
    hr
    h2  Profits générés au total
    table.table.table-striped.table-bordered
        thead
            tr
                th Type de client
                th Nombre de Vue
                th Nombre de clique
                th Montant du
        tbody
            tr
                td client regulier
                td #{income.regularViews}
                td #{income.regularClicks}
                td 
                    b #{(income.regularViews * incomeChart.regularView + income.regularClicks * incomeChart.regularClick).toFixed(2)}$
            tr
                td client ciblé
                td #{income.targetedClicks}
                td #{income.targetedViews}
                td 
                 b #{(income.targetedClicks * incomeChart.targetedClick + income.targetedViews * incomeChart.targetedView).toFixed(2)}$
    hr
    h2  Profits Montant déjà encaissé
    table.table.table-striped.table-bordered
        thead
            tr
                th Type de client
                th Nombre de Vue
                th Nombre de clique
                th Montant du
        tbody
            tr
                td client regulier
                td #{income.cashedRegularViews}
                td #{income.cashedRegularClicks}
                td 
                    b #{(income.cashedRegularViews * incomeChart.regularView + income.cashedRegularClicks * incomeChart.regularClick).toFixed(2)}$
            tr
                td client ciblé
                td #{income.cashedTargetedClicks}
                td #{income.cashedTargetedViews}
                td 
                    b #{(income.cashedTargetedClicks * incomeChart.targetedClick + income.cashedTargetedViews * incomeChart.targetedView).toFixed(2)}$
    hr
            


